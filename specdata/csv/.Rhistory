#run a for-loop to iterate through all 332 csv files in specdata and store in numeric() vector
for(i in id) {
#store csv file temporarly in data var
data <- read.csv(filelist[i])
#totalvec contains completecases of all csv files
totalvec <- c(totalvec, sum(complete.cases(data)))
}
#create a dataframe from list totalvec
data.frame(id, totalvec)
}
complete("."), 1
complete(".", 1)
/
#create a dataframe from list totalvec
data.frame(id, totalvec)
complete <- function(directory, id=1:332){
#filelist stores the list of all csv files present in specdata folder
filelist <- list.files(path=directory, pattern=".csv")
#totalvec stores the total number of complete cases in all csv files
totalvec <- numeric()
#run a for-loop to iterate through all 332 csv files in specdata and store in numeric() vector
for(i in id) {
#store csv file temporarly in data var
data <- read.csv(filelist[i])
#totalvec contains completecases of all csv files
totalvec <- c(totalvec, sum(complete.cases(data)))
}
#create a dataframe from list totalvec
data.frame(id, totalvec)
}
complete(".", 1)
complete(".")
complete(".", 1:5)
source('~/specdata code/complete.R')
source('~/specdata code/complete.R')
complete("specdata", 30:25)
complete(".", 30:25)
?apply
?mean
?data.frame
mean(pollutantlist2)
mean(pollutantlist)
pollutant <- function(directory, pollutant, id=1:132) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, complete.cases(data[[pollutant]]))
}
na.omit(pollutantlist)
mean(pollutantlist)
}
hesevfec%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%
%
pollutant(".", "sulfate", 1:10)
pollutantmean(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
filelist <- list.files(path=directory, pattern=".csv")
filelist <- list.files(path=directory, pattern=".csv")
filelist <- list.files(path="directory"."", pattern=".csv")
filelist <- list.files(path="directory".", pattern=".csv")
filelist <- list.files(path=".", pattern=".csv")
pollutantlist <- numeric()
filelist[1]
data <- read.csv(filelist[1:10])
data <- read.csv(filelist[2])
data
pollutantv <- "nitrate"
pollutantlist <- c(pollutantlist, complete.cases(data[[pollutantv]]))
pollutantlist
pollutantlist <- c(pollutantlist, (data[[pollutantv]]))
pollutantlist
pollutantlist2 <- c(pollutantlist, (data[[pollutantv]]))
pollutantlist2
data
data[[pollutantv]]
na.omit(data$nitrate)
pollutantlist <- c(pollutantlist, complete.cases(data$"pollutant"))
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, complete.cases(data$"pollutant"))
}
na.omit(pollutantlist)
mean(pollutantlist)
pollutant <- function(directory, pollutant, id=1:132) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, complete.cases(data$"pollutant"))
}
na.omit(pollutantlist)
mean(pollutantlist)
}
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutantlist <- c(pollutantlist, (data$"pollutant"))
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data$"pollutant")
}
na.omit(pollutantlist)
mean(pollutantlist)
pollutant <- function(directory, pollutant, id=1:132) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data$"pollutant")
}
na.omit(pollutantlist)
mean(pollutantlist)
}
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 1)
pollutant(".", "nitrate")
pollutant(".", "nitrate")
?mean
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data$"pollutant")
}
mean(pollutantlist, trim=0, na.rm=TRUE)
pollutant <- function(directory, pollutant, id=1:132) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data$"pollutant")
}
#na.omit(pollutantlist)
mean(pollutantlist, trim=0, na.rm=TRUE)
}
pollutant(".", "nitrate", 23)
#na.omit(pollutantlist)
pollutantlist
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
mean(pollutantlist, trim=0, na.rm=TRUE)
pollutant <- function(directory, pollutant, id=1:132) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data$"pollutant")
}
#na.omit(pollutantlist)
pollutantlist
mean(pollutantlist, trim=0, na.rm=TRUE)
}
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutant(".", "nitrae", 23)
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutantmean(".", "nitrate", 23)
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data$"pollutant")
}
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data$"pollutant")
}
#na.omit(pollutantlist)
pollutantlist
mean(pollutantlist, trim=0, na.rm=TRUE)
}
pollutant(".", "nitrate", 23)
pollutantmean(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutant(".", "nitrate", 23)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean(".", "sulfate", 1:10)
data <- read.csv(filelist[23])
data <- data$sulfate
data
mean(data, na.rm = TRUE)
data <- data$nitrate
data <- read.csv(filelist[23])
data <- data$nitrate
mean(data, na.rm = TRUE)
pollutantlist <- c(pollutantlist, data)
pollutantmean(".", "nitrate", 23)
#na.omit(pollutantlist)
mean(pollutantlist$"pollutant", na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data)
}
#na.omit(pollutantlist)
mean(pollutantlist$"pollutant", na.rm=TRUE)
}
pollutantmean(".", "nitrate", 23)
#na.omit(pollutantlist)
mean(pollutantlist$pollutant, na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data)
}
#na.omit(pollutantlist)
mean(pollutantlist$pollutant, na.rm=TRUE)
}
pollutantmean(".", "nitrate", 23)
#na.omit(pollutantlist)
mean(pollutantlist$nitrate, na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data)
}
#na.omit(pollutantlist)
mean(pollutantlist$nitrate, na.rm=TRUE)
}
pollutantmean(".", "nitrate", 23)
#na.omit(pollutantlist)
mean(pollutantlist, na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data)
}
pollutantlist <- pollutantlist$pollutant
#na.omit(pollutantlist)
mean(pollutantlist, na.rm=TRUE)
}
pollutantmean(".", "nitrate", 23)
pollutantlist <- pollutantlist$(pollutant)
#na.omit(pollutantlist)
mean(pollutantlist, na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data)
}
pollutantlist <- pollutantlist$(pollutant)
#na.omit(pollutantlist)
mean(pollutantlist, na.rm=TRUE)
}
pollutantmean(".", "nitrate", 23)
#na.omit(pollutantlist)
mean(pollutantlist$(pollutant), na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data)
}
#na.omit(pollutantlist)
mean(pollutantlist$(pollutant), na.rm=TRUE)
}
pollutantmean(".", "nitrate", 23)
#na.omit(pollutantlist)
mean(pollutantlist[[pollutant]], na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data)
}
#na.omit(pollutantlist)
mean(pollutantlist[[pollutant]], na.rm=TRUE)
}
pollutantmean(".", "nitrate", 23)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean(".a", "sulfate", 1:10)
pollutantmean(".", "sulfate", 1:10)
pollutantmean(".", "nitrate", 70:72)
#na.omit(pollutantlist)
mean(pollutantlist, na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332 ) {
#create a list of all csv files in specdata
filelist <- list.files(path=directory, pattern=".csv")
#list to hold all the pollutant values
pollutantlist <- numeric()
#run a loop to get pollutant data as per id passed
for(i in id) {
data <- read.csv(filelist[i])
pollutantlist <- c(pollutantlist, data[[pollutant]])
}
#na.omit(pollutantlist)
mean(pollutantlist, na.rm=TRUE)
}
pollutantmean(".", "nitrate", 70:72)
pollutantmean(".", "sulfate", 1:10)
?corr
?cor
pollutantmean(".", "sulfate", 1:10)
pollutantmean(".", "nitrate", 70:72)
pollutantmean(".", "sulfate", 34)
pollutantmean(".", "nitrate")
#store csv file temporarly in data var
data <- read.csv(filelist[i])
#totalvec contains completecases of all csv files
totalvec <- c(totalvec, sum(complete.cases(data)))
#run a for-loop to iterate through all 332 csv files in specdata and store in numeric() vector
for(i in id) {
#store csv file temporarly in data var
data <- read.csv(filelist[i])
#totalvec contains completecases of all csv files
totalvec <- c(totalvec, sum(complete.cases(data)))
}
#create a dataframe from list totalvec
data.frame(id, totalvec)
complete <- function(directory, id=1:332){
#filelist stores the list of all csv files present in specdata folder
filelist <- list.files(path=directory, pattern=".csv")
#totalvec stores the total number of complete cases in all csv files
totalvec <- numeric()
#run a for-loop to iterate through all 332 csv files in specdata and store in numeric() vector
for(i in id) {
#store csv file temporarly in data var
data <- read.csv(filelist[i])
#totalvec contains completecases of all csv files
totalvec <- c(totalvec, sum(complete.cases(data)))
}
#create a dataframe from list totalvec
data.frame(id, totalvec)
}
cc <- complete(".", c(6, 10, 20, 34, 100, 200, 310))
print(cc$totalvec)
cc <- complete(".", 54)
print(cc$totalvec)
RNGversion("3.5.1")
set.seed(42)
cc <- complete(".", 332:1)
use <- sample(332, 10)
print(cc[use, "totalvec"])
## Loop over the passed id's
for(i in completes$id ) {
## Pad the i to create a filename
filename <- sprintf("%03d.csv", i)
filepath <- paste(directory, filename, sep="/")
## Load the data
data <- read.csv(filepath)
## Calculate and store the count of complete cases
completeCases <- data[complete.cases(data),]
count <- nrow(completeCases)
## Calculate and store the count of complete cases
## if threshhold is reached
if( count >= threshold ) {
correlations <- c(correlations, cor(completeCases$nitrate, completeCases$sulfate) )
}
}
## Return a numeric vector of correlations
correlations
corr <- function(directory, threshold = 0) {
completes <- complete(directory, 1:332)
completes <- subset(completes, nobs > threshold )
## Initialize variables
correlations <- vector()
## Loop over the passed id's
for(i in completes$id ) {
## Pad the i to create a filename
filename <- sprintf("%03d.csv", i)
filepath <- paste(directory, filename, sep="/")
## Load the data
data <- read.csv(filepath)
## Calculate and store the count of complete cases
completeCases <- data[complete.cases(data),]
count <- nrow(completeCases)
## Calculate and store the count of complete cases
## if threshhold is reached
if( count >= threshold ) {
correlations <- c(correlations, cor(completeCases$nitrate, completeCases$sulfate) )
}
}
## Return a numeric vector of correlations
correlations
}
cr <- corr(".")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr(".")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
## Pad the i to create a filename
filename <- sprintf("%03d.csv", i)
filepath <- paste(directory, filename, sep="/")
## Load the data
data <- read.csv(filepath)
## Calculate and store the count of complete cases
completeCases <- data[complete.cases(data),]
count <- nrow(completeCases)
## Calculate and store the count of complete cases
## if threshhold is reached
if( count >= threshold ) {
correlations <- c(correlations, cor(completeCases$nitrate, completeCases$sulfate) )
}
## Loop over the passed id's
for(i in completes$id ) {
## Pad the i to create a filename
filename <- sprintf("%03d.csv", i)
filepath <- paste(directory, filename, sep="/")
## Load the data
data <- read.csv(filepath)
## Calculate and store the count of complete cases
completeCases <- data[complete.cases(data),]
count <- nrow(completeCases)
## Calculate and store the count of complete cases
## if threshhold is reached
if( count >= threshold ) {
correlations <- c(correlations, cor(completeCases$nitrate, completeCases$sulfate) )
}
}
## Return a numeric vector of correlations
correlations
corr <- function(directory, threshold = 0) {
completes <- complete(directory, 1:332)
completes <- subset(completes, nobs > threshold )
## Initialize variables
correlations <- vector()
## Loop over the passed id's
for(i in completes$id ) {
## Pad the i to create a filename
filename <- sprintf("%03d.csv", i)
filepath <- paste(directory, filename, sep="/")
## Load the data
data <- read.csv(filepath)
## Calculate and store the count of complete cases
completeCases <- data[complete.cases(data),]
count <- nrow(completeCases)
## Calculate and store the count of complete cases
## if threshhold is reached
if( count >= threshold ) {
correlations <- c(correlations, cor(completeCases$nitrate, completeCases$sulfate) )
}
}
## Return a numeric vector of correlations
correlations
}
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
